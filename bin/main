#!/usr/bin/env ruby

$positions=(1..9).to_a
$exit = 0
$winner = 0
$player1 = true
$player2 = false


def board()
    puts ":-----TICTACTOE-----: \n \n"
    puts "#{$positions[0]} | #{$positions[1]}  | #{$positions[2]} \n \n"
    puts "==========="
    puts "\n#{$positions[3]} | #{$positions[4]}  | #{$positions[5]} \n \n"
    puts "==========="
    puts "\n#{$positions[6]} | #{$positions[7]}  | #{$positions[8]} \n \n"



end

def get_inputs()
    if $player1
        puts "player1"
        puts "Put position from [1-9]"
    else
        puts "player2"
        puts "Put position from [1-9]"
    end
     x=gets.chomp.to_i

    if x.is_a? Numeric and $positions.include? x
        puts "True"
        if $player1
            unless $position[x].is_a?(Numeric)
              $position[x] = "X"
              $player1 = !$player1
            end
        else
            unless $position[x].is_a?(Numeric)
              $position[x] = "O"
              $player1 = !$player1
            end
        end

    elsif x < 0
        $exit = 1
    else
        puts "Wrong input"
    end

end

def start_game()
    count = 0
    puts "Positions size : #{$positions.size}"
    while $exit.eql? 0 and $winner.eql? 0 and ! count.eql? $positions.size
        #system "clear"
        board()
        get_inputs()
    end
end

start_game()
